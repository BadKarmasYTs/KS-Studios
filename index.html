<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KS Studios</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css"/>
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.0.7/countUp.umd.js"></script>
  <script>AOS.init();</script>
</head>
<body>
  <header>
    <div class="logo">
      <img src="Frame_21.png" alt="KS Logo"/>
      <span>KS Studios</span>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="about.html">About</a>
      <a class="contact-btn" href="contact.html">Contact</a>
    </nav>
  </header>

  <section class="hero" data-aos="zoom-in" data-aos-duration="1000">
    <h1>Welcome to <span class="highlight">KS Studios</span></h1>
    <p>Where Chaos Meets Creativity</p>
  </section>

  <section class="stats" data-aos="fade-up">
    <div class="stat-box">
      <h2 id="playersOnline">0</h2>
      <p>Players Online</p>
    </div>
    <div class="stat-box">
      <h2 id="totalVisits">0</h2>
      <p>Total Visits</p>
    </div>
  </section>

  <section class="contact-section" data-aos="fade-up">
    <h2>Get in Touch</h2>
    <form id="contactForm">
      <input type="text" id="name" placeholder="Your Name" required>
      <input type="email" id="email" placeholder="Your Email" required>
      <textarea id="message" placeholder="Your Message" rows="6" required></textarea>
      <button type="submit">Send Message</button>
    </form>
    <p id="statusMsg"></p>
  </section>

  <footer>
    <p>© 2025 KS Studios. All rights reserved.</p>
  </footer>

  <script>
    const playersOnline = new countUp.CountUp('playersOnline', 0, { duration: 2 })
    const totalVisits = new countUp.CountUp('totalVisits', 0, { duration: 2 })

    fetch("https://games.roblox.com/v1/games?universeIds=6757098011")
      .then(res => res.json())
      .then(data => {
        const gameData = data.data[0]
        playersOnline.update(gameData.playing)
        totalVisits.update(gameData.visits)
      })

    const form = document.getElementById('contactForm')
    const statusMsg = document.getElementById('statusMsg')

    form.addEventListener('submit', function(e) {
      e.preventDefault()

      const name = document.getElementById('name').value
      const email = document.getElementById('email').value
      const message = document.getElementById('message').value

      fetch("https://discord.com/api/webhooks/1368746351541616760/o_IwCrO2t69m-mEjx8LVxciAkZMjrnM2gfCx2wRFcMpzrX9AcOB6XQHC756svKOBJkgF", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          embeds: [{
            title: "📨 New Contact Message",
            color: 5814783,
            fields: [
              { name: "👤 Name", value: name || "None", inline: true },
              { name: "📧 Email", value: email || "None", inline: true },
              { name: "📝 Message", value: message || "None" }
            ],
            footer: { text: "KS Studios Web Contact" },
            timestamp: new Date()
          }]
        })
      }).then(() => {
        statusMsg.textContent = "Message sent!"
        form.reset()
      }).catch(() => {
        statusMsg.textContent = "Error sending message."
      })
    })
  </script>
</body>
</html>
