<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KS Studios</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <div class="logo">
      <img src="Frame_21.png" alt="KS Logo" />
      <span>KS Studios</span>
    </div>
    <nav>
      <a href="#">Home</a>
      <a href="#games">Our Games</a>
      <a href="#about">About</a>
      <a href="#devs">About the Devs</a>
      <a class="contact-btn" href="#contact">Contact</a>
    </nav>
  </header>

  <section class="hero">
    <h1>KS Studios</h1>
    <p>We Make Better Games.</p>
    <div class="stats">
      <div class="stat">
        <h2 id="totalPlayers">0</h2>
        <span>Players Online</span>
      </div>
      <div class="stat">
        <h2 id="totalVisits">0</h2>
        <span>Total Visits</span>
      </div>
    </div>
  </section>

  <section id="games" class="games-section">
    <h2>Our Games</h2>
    <div class="games-container"></div>
  </section>

  <section id="about" class="about">
    <h2>About Us</h2>
    <p>KS Studios is a multi-million dollar group... nah just joking, it's like 3 people working overtime all day every day.</p>
  </section>

  <section id="devs" class="devs-section">
    <h2>Meet the Devs</h2>
    <div class="devs-container">
      <div class="dev-card">
        <img src="https://i.postimg.cc/y6RJ6jDr/dev1.png" alt="Dev 1">
        <h3>ks_toons</h3>
        <p>The visionary. Brains behind every insane idea that somehow works.</p>
      </div>
      <div class="dev-card">
        <img src="https://i.postimg.cc/L8x8p9pg/dev2.png" alt="Dev 2">
        <h3>trenchtrigger</h3>
        <p>The chaos coder. If it breaks and then works, he did it right.</p>
      </div>
      <div class="dev-card">
        <img src="https://i.postimg.cc/6p7YQ4M7/dev3.png" alt="Dev 3">
        <h3>cloud_reaper</h3>
        <p>The UI wizard. Somehow makes even dirt look aesthetic.</p>
      </div>
    </div>
  </section>

  <section id="contact" class="contact-section">
    <h2>Contact Us</h2>
    <form id="contactForm" class="contact-form">
      <input type="text" id="name" placeholder="Your Name" required />
      <input type="email" id="email" placeholder="Your Email" required />
      <input type="text" id="roblox" placeholder="Your Roblox Username" required />
      <textarea id="message" rows="5" placeholder="Your Message" required></textarea>
      <button type="submit">Send Message</button>
    </form>
  </section>

  <footer>
    <p>© 2025 KS Studios. All rights reserved.</p>
  </footer>

  <script>
    fetch('games.json')
      .then(res => res.json())
      .then(data => {
        const container = document.querySelector('.games-container');
        let totalPlayers = 0;
        let totalVisits = 0;

        data.forEach(game => {
          const el = document.createElement('div');
          el.className = 'game-card';
          el.innerHTML = `
            <a href="${game.url}" class="game-card-link" target="_blank">
              <img src="${game.thumbnail}" alt="${game.name}">
              <div class="game-info">
                <h3>${game.name}</h3>
                <p>${game.creator}</p>
                <p><strong>${game.players}</strong> playing · ${game.visits} visits</p>
              </div>
            </a>
            <div class="game-card-hover">Go to Game</div>
          `;
          el.querySelector('.game-card-hover').addEventListener('click', () => {
            window.open(game.url, '_blank');
          });

          container.appendChild(el);

          totalPlayers += parseInt(game.players.replace(/[^0-9]/g, '')) || 0;
          totalVisits += parseInt(game.visits.replace(/[^0-9]/g, '')) || 0;
        });

        document.getElementById('totalPlayers').textContent = totalPlayers.toLocaleString();
        document.getElementById('totalVisits').textContent = totalVisits.toLocaleString();
      });

    document.getElementById('contactForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const roblox = document.getElementById('roblox').value.trim();
      const message = document.getElementById('message').value.trim();

      if (!name || !email || !roblox || !message) return;

      const content = {
        content: `**New Contact Form Submission**\n\n**Name:** ${name}\n**Email:** ${email}\n**Roblox Username:** ${roblox}\n**Message:** ${message}`
      };

      fetch('https://discord.com/api/webhooks/1368746351541616760/o_IwCrO2t69m-mEjx8LVxciAkZMjrnM2gfCx2wRFcMpzrX9AcOB6XQHC756svKOBJkgF', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(content)
      }).then(res => {
        if (res.ok) {
          alert('Message sent!');
          document.getElementById('contactForm').reset();
        } else {
          alert('Failed to send message.');
        }
      }).catch(() => {
        alert('Error sending message.');
      });
    });
  </script>
</body>
</html>
